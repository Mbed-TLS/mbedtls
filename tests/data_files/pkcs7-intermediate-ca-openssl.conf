[ req ]
distinguished_name = req_dn
prompt = no

[ req_dn ]
C = NL
O = PKCS7
CN = PKCS7 Intermediate CA

[ ca ]
# `man ca`
default_ca = CA_default

[ CA_default ]
# Directory and file locations.
new_certs_dir    = .
private_key      = pkcs7-intermediate-ca.key
certificate      = pkcs7-intermediate-ca.pem
default_md       = sha256
policy           = policy_ca
database         = pkcs7.db
serial           = pkcs7.serial

[ policy_ca ]
# Allow the intermediate CA to sign a more diverse range of certificates.
# See the POLICY FORMAT section of the `ca` man page.
countryName            = optional
stateOrProvinceName    = optional
localityName           = optional
organizationName       = optional
organizationalUnitName = optional
commonName             = supplied
emailAddress           = optional

[ v3_intermediate_ca ]
# Extensions for a typical intermediate CA (`man x509v3_config`).
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints       = critical, CA:true, pathlen:0
keyUsage               = critical, digitalSignature, cRLSign, keyCertSign
