{
    "tests": {
        "make-gcc": {
            "build": "make",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["basic"],
            "platforms": ["debian-i386", "debian-x64"]
        },
        "unix-make": {
            "build": "make",
            "environment": {"MAKE": "make", "CC": "gcc", "CFLAGS": "-Werror -Wall -Wextra -Os"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-no-std-func-nv-seed": {
            "config": "full-config-no-std-func-nv-seed",
            "build": "make",
            "environment": {"MAKE": "make", "CC": "gcc", "CFLAGS": "-Werror -Wall -Wextra -O0"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-no-srv": {
            "config": "full-config-no-srv",
            "build": "make",
            "environment": {"MAKE": "make", "CC": "gcc", "CFLAGS": "-Werror -Wall -Wextra -O0"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-no-client": {
            "config": "full-config-no-cli",
            "build": "make",
            "environment": {"MAKE": "make", "CC": "gcc", "CFLAGS": "-Werror -Wall -Wextra -O0"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-no-net-entropy": {
            "config": "full-config-no-net-entropy",
            "build": "make-lib",
            "environment": {"MAKE": "make", "CC": "gcc", "CFLAGS": "-Werror -Wall -Wextra -O0 -std=c99 -pedantic"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-full-config": {
            "config": "full-config-no-platform",
            "build": "make-full-config",
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-shared": {
            "build": "make-shared",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-i386-on-x64": {
            "build": "make-on-x64",
            "environment": {"MAKE": "make", "CC": "gcc", "CFLAGS": "\"-Werror -Wall -Wextra -m32\""},
            "tests": ["basic"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-ilp32-on-x64": {
            "build": "make-on-x64",
            "environment": {"MAKE": "make", "CC": "gcc", "CFLAGS": "\"-Werror -Wall -Wextra -mx32\""},
            "tests": ["basic"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-32bit-bignum-limbs": {
            "config": "bignum-limbs",
            "build": "make",
            "environment": {"MAKE": "make", "CC": "gcc", "CFLAGS": "\"-Werror -Wall -Wextra -DMBEDTLS_HAVE_INT32\""},
            "tests": ["basic"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-64bit-bignum-limbs": {
            "config": "bignum-limbs",
            "build": "make",
            "environment": {"MAKE": "make", "CC": "gcc",
                            "CFLAGS": "\"-Werror -Wall -Wextra -DMBEDTLS_HAVE_INT64\""},
            "tests": ["basic"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-gcc-arm": {
            "config": "baremetal",
            "build": "make-lib",
            "environment": {"MAKE": "make", "CC": "arm-none-eabi-gcc",
                            "AR": "arm-none-eabi-ar", "LD": "arm-none-eabi-ld",
                            "CFLAGS": "'-Werror -Wall -Wextra'"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-gcc-arm-no-udbl": {
            "config": "baremetal-no-udbl",
            "build": "make-lib",
            "environment": {"MAKE": "make", "CC": "arm-none-eabi-gcc",
                            "AR": "arm-none-eabi-ar", "LD": "arm-none-eabi-ld",
                            "CFLAGS": "'-Werror -Wall -Wextra'"},
            "tests": ["no-64bit-div"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-arm5": {
            "config": "baremetal-for-arm",
            "build": "make-lib",
            "environment": {"MAKE": "make", "CC": "ARMC5_CC",
                            "AR": "ARMC5_AR",
                            "WARNING_CFLAGS": "'--strict --c99'"},
            "tests": ["armc6_build_tests"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "make-allow-sha1-certs": {
            "config": "allow-sha1-in-certs",
            "build": "make",
            "environment": {"MAKE": "make", "CC": "gcc", "CFLAGS": "'-Werror -Wall -Wextra'"},
            "tests": ["basic", "ssl_opt_sha1"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cross-build-windows": {
            "build": "make-lib-programs",
            "environment": {"MAKE": "make", "CC": "i686-w64-mingw32-gcc",
                            "AR": "i686-w64-mingw32-ar", "LD": "i686-w64-minggw32-ld",
                            "CFLAGS": "'-Werror -Wall -Wextra'", "WINDOWS_BUILD": "1"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cross-build-tests-windows": {
            "build": "make-tests",
            "environment": {"MAKE": "make", "CC": "i686-w64-mingw32-gcc",
                            "AR": "i686-w64-mingw32-ar", "LD": "i686-w64-minggw32-ld",
                            "CFLAGS": "'-Werror'", "WINDOWS_BUILD": "1"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cross-build-dll": {
            "build": "make-lib-programs",
            "environment": {"MAKE": "make", "CC": "i686-w64-mingw32-gcc",
                            "AR": "i686-w64-mingw32-ar", "LD": "i686-w64-minggw32-ld",
                            "CFLAGS": "'-Werror -Wall -Wextra'", "WINDOWS_BUILD": "1",
                            "SHARED": "1"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cross-build-tests-dll": {
            "build": "make-tests",
            "environment": {"MAKE": "make", "CC": "i686-w64-mingw32-gcc",
                            "AR": "i686-w64-mingw32-ar", "LD": "i686-w64-minggw32-ld",
                            "CFLAGS": "'-Werror'", "WINDOWS_BUILD": "1",
                            "SHARED": "1"},
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake": {
            "build": "cmake",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["basic"],
            "platforms": ["debian-i386", "debian-x64"]
        },
        "cmake-full":  {
            "build": "cmake",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["full"],
            "platforms": ["debian-i386", "debian-x64"]
        },
        "cmake-asan": {
            "build": "cmake-asan",
            "environment": {"MAKE": "make", "CC": "clang"},
            "tests": ["full"],
            "platforms": ["debian-i386", "debian-x64"]
        },
        "cmake-asan-gcc": {
            "build": "cmake-asan",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["full"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake-asan-gcc-sslv3": {
            "config": "sslv3",
            "build": "cmake-asan",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["sslv3"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake-asan-gcc-no-renegotiation": {
            "config": "no_ssl_renegotiation",
            "build": "cmake-asan",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["basic", "ssl_opt"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake-asan-gcc-no-max-fragment-len": {
            "config": "no-max-fragment-len",
            "build": "cmake-asan",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["ssl_opt"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake-asan-gcc-test-null-entropy": {
            "config": "test-null-entropy",
            "build": "cmake-asan",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["basic"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake-asan-rsa-no-crt": {
            "config": "rsa-no-cert",
            "build": "cmake-asan",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["basic"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake-memsan": {
            "config": "memsan",
            "build": "cmake-memsan",
            "environment": {"MAKE": "make", "CC": "clang"},
            "tests": ["basic", "ssl_opt", "compat"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake-release": {
            "build": "cmake-release",
            "environment": {"MAKE": "make", "CC": "clang"},
            "tests": ["memcheck", "ssl_opt", "compat"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake-clang-full-config": {
            "config": "full-config-no-mem-backtrace",
            "build": "cmake",
            "environment": {"MAKE": "make", "CC": "clang",
                            "CFLAGS": "\"-Werror -Wall -Wextra -std=c99 -pedantic\""},
            "tests": ["basic", "ssl_opt", "compat_rc4_des_null"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "cmake-out-of-src": {
            "build": "cmake-out-of-src",
            "environment": {"MAKE": "make"},
            "tests": ["basic"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "curves": {
            "build": "cmake-debug",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["curves"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "keyexchanges": {
            "build": "cmake",
            "environment": {"MAKE": "make", "CC": "gcc"},
            "tests": ["keyexchanges"],
            "platforms": ["ubuntu-16.04-x64"]
        },
        "gmake-clang": {
            "build": "make",
            "environment": {"MAKE": "gmake", "CC": "clang"},
            "tests": ["basic"],
            "platforms": ["freebsd"]
        },
        "cmake-clang": {
            "build": "cmake",
            "environment": {"MAKE": "make", "CC": "clang"},
            "tests": ["basic"],
            "platforms": ["freebsd"]
        },
        "mingw-make": {
            "build": "mingw-make",
            "tests": ["basic"],
            "platforms": ["windows-tls"]
        },
        "msvc12-32": {
            "build": "msvc12-32",
            "platforms": ["windows-tls"]
        },
        "msvc12-64": {
            "build": "msvc12-64",
            "platforms": ["windows-tls"]
        },
        "all.sh": {
            "script": "./tests/scripts/all.sh",
            "platforms": ["ubuntu-16.04-x64"]
        },
        "print-environment": {
            "script": "./scripts/output_env.sh",
            "platforms": ["ubuntu-16.04-x64"]
        },
        "source-checks": {
            "build": "source-checks",
            "platforms": ["ubuntu-16.04-x64"]
        }
    },
    "campaigns": {
        "commit-tests": [
                "make-gcc", "cmake", "cmake-full", "cmake-asan", "gmake-clang",
                "cmake-clang", "mingw-make", "msvc12-32", "msvc12-64"],
        "release-tests": ["all.sh"],
        "all-tests": ["print-environment", "source-checks", "cmake-asan-gcc",
                      "cmake-clang-full-config", "cmake-asan-gcc-sslv3"]
    },
    "jobs": {
        "mbedtls-commit-tests": {
            "campaigns": ["commit-tests"]
        },
        "release-tests": {
            "campaigns": ["release-tests", "all-tests"]
        },
        "nightly": {
            "campaigns": ["commit-tests", "release-tests"]
        }
    }
}

